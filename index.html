<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Main meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Page title displayed in the browser tab -->
    <title>Games - HEAT Labs</title>
    <!-- Primary Meta Tags -->
    <meta name="title" content="HEAT Labs - Games">
    <meta name="description" content="Interactive mini-games, tools and other community-driven experiences for World of Tanks: HEAT.">
    <meta name="author" content="HEAT Labs Team">
    <meta name="copyright" content="Â© 2025 HEAT Labs by SINEWAVE Development. All rights reserved.">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="language" content="English">
    <!-- Keywords -->
    <meta name="keywords" content="world of tanks heat, tank database, heat labs, armor profiles, tank comparison, map information, tank statistics, community guides, wot heat, game news">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://games.heatlabs.net">
    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" href="site-data/sitemap.xml">
    <!-- Main stylesheets -->
    <link rel="stylesheet" href="assets/css/libraries/tailwind.css">
    <link rel="stylesheet" href="assets/css/libraries/font-awesome/all.css">
    <!-- Header stylesheet -->
    <style>
      /* Page Header */
      .page-header {
        background-color: #1e1e1e;
        padding: 16px 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: sticky;
        top: 0;
        z-index: 100;
        min-height: 60px;
        width: 100%;
        box-sizing: border-box;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .page-title-container {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .back-button {
        display: inline-flex;
        align-items: center;
        padding: 8px 16px;
        background-color: #ff8300;
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        text-decoration: none;
        font-size: 14px;
        gap: 8px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .back-button i {
        font-size: 14px;
      }

      .page-title {
        font-size: 24px;
        font-weight: 700;
        color: #ffffff;
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .page-subtitle {
        font-size: 14px;
        color: #b0b0b0;
        margin: 1px 0 0 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      /* Base body styles */
      body {
        background-color: #121212;
        color: #e0e0e0;
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      /* Ensure full width for Discord */
      html,
      body {
        width: 100%;
        height: 100%;
        overflow-x: hidden;
      }

      .back-button:hover {
        background-color: #e67600;
      }

      /* Games Grid Container */
      .games-container {
        width: 100%;
        height: calc(100vh - 92px);
        display: flex;
        flex-direction: column;
        padding: 20px;
        box-sizing: border-box;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .games-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(2, 1fr);
        gap: 20px;
        width: 100%;
        height: 100%;
        max-width: 1200px;
        max-height: 800px;
        margin: 0 auto;
      }

      /* Game Card Styles */
      .game-card {
        background-color: #1e1e1e;
        border-radius: 12px;
        padding: 24px;
        display: flex;
        flex-direction: column;
        border: 1px solid #2a2a2a;
        transition: transform 0.2s ease, border-color 0.2s ease;
        overflow: hidden;
      }

      .game-card:hover {
        transform: translateY(-2px);
        border-color: #3a3a3a;
      }

      .game-image {
        width: 100%;
        height: 160px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 16px;
        background-color: #2a2a2a;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #888;
        font-size: 48px;
      }

      .game-title {
        font-size: 20px;
        font-weight: 700;
        color: #ffffff;
        margin: 0 0 8px 0;
        line-height: 1.2;
      }

      .game-description {
        font-size: 14px;
        color: #b0b0b0;
        margin: 0 0 20px 0;
        line-height: 1.5;
        flex-grow: 1;
      }

      .game-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 10px 20px;
        background-color: #ff8300;
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        text-decoration: none;
        font-size: 14px;
        gap: 8px;
        cursor: pointer;
        transition: background-color 0.2s ease;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .game-button:hover {
        background-color: #e67600;
      }

      /* Responsive adjustments for Discord frame */
      @media (max-width: 768px) {
        .games-grid {
          grid-template-columns: 1fr;
          grid-template-rows: repeat(4, 1fr);
          gap: 15px;
        }

        .game-image {
          height: 140px;
        }
      }

      /* Ensure no scrolling */
      body {
        overflow: hidden;
      }

      /* Transition Overlay Styles */
      #page-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #121212;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 1;
        transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        pointer-events: none;
      }

      #transition-logo {
        width: 150px;
        height: auto;
        max-width: 80vw;
        max-height: 80vh;
        object-fit: contain;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        opacity: 1;
        transform: scale(1);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Small Screen Overlay */
      #small-screen-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #121212;
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        opacity: 0;
        transition: opacity 0.2s ease-out;
      }

      #small-screen-logo {
        width: 150px;
        height: auto;
        max-width: 80vw;
        max-height: 80vh;
        object-fit: contain;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
      }
    </style>
    <!-- Favicon for all browsers -->
    <link rel="icon" href="assets/images/favicons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="assets/images/favicons/favicon.ico" type="image/x-icon">
    <!-- Apple Touch Icons (for iOS home screen bookmarks) -->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/images/apple/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/images/apple/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/images/apple/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/images/apple/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/images/apple/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/images/apple/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/images/apple/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/images/apple/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple/apple-icon-180x180.png">
    <!-- Favicons for different devices -->
    <link rel="icon" type="image/png" sizes="192x192" href="assets/images/android/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/favicon-16x16.png">
    <!-- Yandex-specific meta tags -->
    <link rel="yandex-tableau-widget" href="site-data/yandex-browser-manifest.json">
    <!-- Theme Support Declaration -->
    <meta name="color-scheme" content="light dark">
    <!-- Disable all automatic formatting detection -->
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="format-detection" content="address=no">
    <!-- Web Manifest -->
    <link rel="manifest" href="site-data/site.manifest">
    <!-- Windows-specific tiles (for pinned sites in Windows Start menu) -->
    <meta name="msapplication-TileColor" content="#141312">
    <meta name="msapplication-TileImage" content="assets/images/microsoft/ms-icon-144x144.png">
    <meta name="msapplication-config" content="site-data/browserconfig.xml">
    <!-- Safari-specific meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HEAT Labs">
    <!-- Browser UI color -->
    <meta name="theme-color" content="#141312">
    <meta name="msapplication-navbutton-color" content="#141312">
    <meta name="apple-mobile-web-app-status-bar-style" content="#141312">
    <!-- Open Graph Meta Tags (for social media sharing, mainly Facebook) -->
    <meta property="og:title" content="HEAT Labs - games">
    <meta property="og:description" content="Interactive mini-games, tools and other community-driven experiences for World of Tanks: HEAT.">
    <meta property="og:image" content="images/social-share/Games.png">
    <meta property="og:image:alt" content="Your one-stop solution for comprehensive statistics insights and guides for World of Tanks: HEAT">
    <meta property="og:url" content="https://games.heatlabs.net">
    <meta property="og:type" content="website">
    <meta property="og:image:width" content="1280">
    <meta property="og:image:height" content="320">
    <meta property="og:site_name" content="HEAT Labs">
    <meta property="og:locale" content="en_US">
    <!-- Twitter Card Meta Tags (for better sharing on Twitter) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@HEAT_Labs">
    <meta name="twitter:creator" content="@HEAT_Labs">
    <meta name="twitter:title" content="HEAT Labs - Games">
    <meta name="twitter:description" content="Interactive mini-games, tools and other community-driven experiences for World of Tanks: HEAT.">
    <meta name="twitter:image" content="images/social-share/Games.png">
    <meta name="twitter:image:alt" content="HEAT Labs - Your one-stop solution for comprehensive statistics insights and guides for World of Tanks: HEAT">
  </head>
  <body style="opacity: 0;">
    <!-- Transition Overlay (Visible by default) -->
    <div id="page-transition-overlay">
      <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px;">
        <img id="transition-logo" src="assets/images/logo/logo_transparent_white.png" alt="HEAT Labs Logo">
      </div>
    </div>
    <!-- Small Screen Overlay -->
    <div id="small-screen-overlay"></div>
    <div class="page-header">
      <div class="page-title-container">
        <a href="#" class="back-button refresh-button">
          <i class="fas fa-rotate"></i> Refresh </a>
        <div>
          <h1 class="page-title">HEAT Labs Games</h1>
          <p class="page-subtitle">Choose the game you want to play</p>
        </div>
      </div>
    </div>
    <div class="games-container">
      <div class="games-grid">
        <!-- Tier List Creator Card -->
        <div class="game-card">
          <h3 class="game-title">Tier List Creator</h3>
          <p class="game-description">Create and share custom tier lists for tanks.</p>
          <a href="tierlist.html" class="game-button">
            <i class="fas fa-play"></i> Play Now </a>
        </div>
        <!-- Random Tank Selector Card -->
        <div class="game-card">
          <h3 class="game-title">Random Tank Selector</h3>
          <p class="game-description">Can't decide what tank to play?</p>
          <a href="roulette.html" class="game-button">
            <i class="fas fa-play"></i> Play Now </a>
        </div>
        <!-- Alpha 3 Countdown Card -->
        <div class="game-card">
          <h3 class="game-title">Alpha 3 Countdown</h3>
          <p class="game-description">Track the time until the next Alpha release.</p>
          <a href="alpha-3-playtest.html" class="game-button">
            <i class="fas fa-play"></i> Play Now </a>
        </div>
        <!-- HEAT Wordle Card -->
        <div class="game-card">
          <h3 class="game-title">HEAT Wordle</h3>
          <p class="game-description">A World of Tanks: HEAT themed word puzzle.</p>
          <a href="wordle.html" class="game-button">
            <i class="fas fa-play"></i> Play Now </a>
        </div>
      </div>
    </div>
    <script>
      // Configuration for all functionality
      const CONFIG = {
        // Screen size checking
        minWidth: 200,
        minHeight: 300,
        logoPath: 'assets/images/logo/logo_transparent_white.png',
        logoSize: '150px',
        logoAlt: 'HEAT Labs Logo',
        backgroundColor: '#121212',
        fadeInDuration: 250,
        fadeOutDuration: 250,
        checkInterval: 50,

        // Transition configuration
        transitionDuration: 500,
        easing: 'cubic-bezier(0.4, 0, 0.2, 1)',

        // Refresh configuration
        refreshIconClass: 'fa-rotate',
        refreshButtonText: 'Refresh',
        refreshDuration: 1000
      };

      (function initPageLoad() {
        // Hide content initially (already hidden via inline style)
        // When DOM is loaded, start the fade-in sequence
        document.addEventListener('DOMContentLoaded', function() {
          const overlay = document.getElementById('page-transition-overlay');
          const body = document.body;
          const header = document.querySelector('.page-header');
          const gamesContainer = document.querySelector('.games-container');

          // Show content with opacity 0 initially
          if (header) header.style.opacity = '0';
          if (gamesContainer) gamesContainer.style.opacity = '0';

          // Fade in the main content
          setTimeout(function() {
            body.style.opacity = '1';
            body.style.transition = 'opacity 0.3s ease';

            if (header) {
              header.style.opacity = '1';
              header.style.transition = 'opacity 0.3s ease 0.1s';
            }

            if (gamesContainer) {
              gamesContainer.style.opacity = '1';
              gamesContainer.style.transition = 'opacity 0.3s ease 0.2s';
            }

            // Fade out the overlay
            setTimeout(function() {
              if (overlay) {
                overlay.style.opacity = '0';
                setTimeout(function() {
                  if (overlay) overlay.style.display = 'none';
                }, 500);
              }
            }, 300);
          }, 100);
        });
      })();

      (function initScreenCheck() {
        let smallScreenOverlay = null;
        let smallScreenLogo = null;
        let isSmallScreenVisible = false;
        let screenCheckTimeout = null;

        function createSmallScreenOverlay() {
          smallScreenOverlay = document.getElementById('small-screen-overlay');
          if (!smallScreenOverlay) {
            smallScreenOverlay = document.createElement('div');
            smallScreenOverlay.id = 'small-screen-overlay';
            smallScreenOverlay.style.cssText = `
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              background-color: ${CONFIG.backgroundColor};
              display: none;
              justify-content: center;
              align-items: center;
              z-index: 10000;
              opacity: 0;
              transition: opacity ${CONFIG.fadeOutDuration}ms ease-out;
            `;

            smallScreenLogo = document.createElement('img');
            smallScreenLogo.id = 'small-screen-logo';
            smallScreenLogo.src = CONFIG.logoPath;
            smallScreenLogo.alt = CONFIG.logoAlt;
            smallScreenLogo.style.cssText = `
              width: ${CONFIG.logoSize};
              height: auto;
              max-width: 80vw;
              max-height: 80vh;
              object-fit: contain;
              filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
            `;

            const logoContainer = document.createElement('div');
            logoContainer.style.cssText = `
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              text-align: center;
              padding: 20px;
            `;

            smallScreenLogo.onerror = function() {
              smallScreenLogo.style.display = 'none';
              const fallbackText = document.createElement('div');
              fallbackText.textContent = 'HEAT LABS';
              fallbackText.style.cssText = `
                font-size: 32px;
                font-weight: bold;
                color: #ff8300;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
              `;
              logoContainer.appendChild(fallbackText);
            };

            logoContainer.appendChild(smallScreenLogo);
            smallScreenOverlay.appendChild(logoContainer);
            document.body.appendChild(smallScreenOverlay);
          }
        }

        function checkScreenSize() {
          const isTooSmall = window.innerWidth < CONFIG.minWidth || window.innerHeight < CONFIG.minHeight;

          if (isTooSmall && !isSmallScreenVisible) {
            showSmallScreenOverlay();
          } else if (!isTooSmall && isSmallScreenVisible) {
            hideSmallScreenOverlay();
          }
        }

        function showSmallScreenOverlay() {
          isSmallScreenVisible = true;
          smallScreenOverlay.style.display = 'flex';
          void smallScreenOverlay.offsetHeight;
          smallScreenOverlay.style.transition = `opacity ${CONFIG.fadeInDuration}ms ease-in`;
          requestAnimationFrame(function() {
            smallScreenOverlay.style.opacity = '1';
          });

          const header = document.querySelector('.page-header');
          const gamesContainer = document.querySelector('.games-container');
          if (header) header.style.display = 'none';
          if (gamesContainer) gamesContainer.style.display = 'none';
        }

        function hideSmallScreenOverlay() {
          isSmallScreenVisible = false;
          smallScreenOverlay.style.transition = `opacity ${CONFIG.fadeOutDuration}ms ease-out`;
          smallScreenOverlay.style.opacity = '0';
          setTimeout(function() {
            if (!isSmallScreenVisible) {
              smallScreenOverlay.style.display = 'none';
              const header = document.querySelector('.page-header');
              const gamesContainer = document.querySelector('.games-container');
              if (header) header.style.display = 'flex';
              if (gamesContainer) gamesContainer.style.display = 'flex';
            }
          }, CONFIG.fadeOutDuration);
        }

        function debounceCheck() {
          if (screenCheckTimeout) clearTimeout(screenCheckTimeout);
          screenCheckTimeout = setTimeout(checkScreenSize, CONFIG.checkInterval);
        }

        document.addEventListener('DOMContentLoaded', function() {
          createSmallScreenOverlay();
          setTimeout(checkScreenSize, 100);
          window.addEventListener('resize', debounceCheck);
          window.addEventListener('load', checkScreenSize);
        });
      })();

      (function initTransitions() {
        let isTransitioning = false;
        let isOverlayVisible = false;
        let transitionOverlay = null;
        let transitionLogo = null;

        function createTransitionOverlay() {
          transitionOverlay = document.getElementById('page-transition-overlay');
          transitionLogo = document.getElementById('transition-logo');

          if (!transitionOverlay) {
            transitionOverlay = document.createElement('div');
            transitionOverlay.id = 'page-transition-overlay';
            transitionOverlay.style.cssText = `
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              background-color: ${CONFIG.backgroundColor};
              display: none;
              justify-content: center;
              align-items: center;
              z-index: 9999;
              opacity: 0;
              transition: opacity ${CONFIG.fadeOutDuration}ms ${CONFIG.easing};
              pointer-events: none;
            `;

            transitionLogo = document.createElement('img');
            transitionLogo.id = 'transition-logo';
            transitionLogo.src = CONFIG.logoPath;
            transitionLogo.alt = CONFIG.logoAlt;
            transitionLogo.style.cssText = `
              width: ${CONFIG.logoSize};
              height: auto;
              max-width: 80vw;
              max-height: 80vh;
              object-fit: contain;
              filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
              opacity: 0;
              transform: scale(0.8);
              transition: all ${CONFIG.transitionDuration}ms ${CONFIG.easing};
            `;

            const logoContainer = document.createElement('div');
            logoContainer.style.cssText = `
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              text-align: center;
              padding: 20px;
            `;

            transitionLogo.onerror = function() {
              transitionLogo.style.display = 'none';
              const fallbackText = document.createElement('div');
              fallbackText.textContent = 'HEAT LABS';
              fallbackText.style.cssText = `
                font-size: 32px;
                font-weight: bold;
                color: #ff8300;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
                opacity: 0;
                transform: scale(0.8);
                transition: all ${CONFIG.transitionDuration}ms ${CONFIG.easing};
              `;
              logoContainer.appendChild(fallbackText);
              transitionLogo = fallbackText;
            };

            logoContainer.appendChild(transitionLogo);
            transitionOverlay.appendChild(logoContainer);
            document.body.appendChild(transitionOverlay);
          }
        }

        function showTransitionOverlay() {
          if (isTransitioning) return;
          isTransitioning = true;
          isOverlayVisible = true;

          transitionOverlay.style.display = 'flex';
          transitionOverlay.style.pointerEvents = 'auto';
          void transitionOverlay.offsetHeight;

          transitionOverlay.style.transition = `opacity 10ms ${CONFIG.easing}`;
          requestAnimationFrame(function() {
            transitionOverlay.style.opacity = '1';
            setTimeout(function() {
              if (transitionLogo) {
                transitionLogo.style.opacity = '1';
                transitionLogo.style.transform = 'scale(1)';
              }
            }, 50);
          });
        }

        function hideTransitionOverlay() {
          if (!isTransitioning || !isOverlayVisible) return;

          if (transitionLogo) {
            transitionLogo.style.opacity = '0';
            transitionLogo.style.transform = 'scale(0.8)';
          }

          setTimeout(function() {
            transitionOverlay.style.transition = `opacity ${CONFIG.fadeOutDuration}ms ${CONFIG.easing}`;
            transitionOverlay.style.opacity = '0';
            setTimeout(function() {
              transitionOverlay.style.display = 'none';
              transitionOverlay.style.pointerEvents = 'none';
              isTransitioning = false;
              isOverlayVisible = false;
              if (transitionLogo) {
                transitionLogo.style.opacity = '0';
                transitionLogo.style.transform = 'scale(0.8)';
              }
            }, CONFIG.fadeOutDuration);
          }, CONFIG.fadeOutDuration);
        }

        function handleLinkClick(e) {
          const link = e.currentTarget;
          const href = link.getAttribute('href');

          if (href === '#' || href.includes('://') ||
              link.classList.contains('refresh-button') ||
              link.textContent.includes('Refresh')) {
            return;
          }

          e.preventDefault();
          showTransitionOverlay();
          setTimeout(function() {
            window.location.href = href;
          }, CONFIG.transitionDuration + 100);
        }

        function setupEventListeners() {
          const playButtons = document.querySelectorAll('.game-button');
          playButtons.forEach(function(button) {
            button.addEventListener('click', handleLinkClick);
          });

          const backButtons = document.querySelectorAll('.back-button');
          backButtons.forEach(function(button) {
            if (!button.textContent.includes('Refresh')) {
              button.addEventListener('click', handleLinkClick);
            }
          });

          window.addEventListener('pageshow', function() {
            hideTransitionOverlay();
          });

          window.addEventListener('beforeunload', function() {
            if (!isOverlayVisible) {
              showTransitionOverlay();
            }
          });
        }

        document.addEventListener('DOMContentLoaded', function() {
          createTransitionOverlay();
          setupEventListeners();

          // Initial transition already handled by initPageLoad
          // So we just ensure the overlay is hidden properly
          setTimeout(function() {
            hideTransitionOverlay();
          }, 1000);
        });
      })();

      (function initRefresh() {
        function findRefreshButton() {
          const buttons = document.querySelectorAll('.back-button');
          for (const button of buttons) {
            const icon = button.querySelector('i');
            const text = button.textContent.trim();
            if (icon && icon.classList.contains(CONFIG.refreshIconClass) &&
                text.includes(CONFIG.refreshButtonText)) {
              return button;
            }
          }
          return null;
        }

        function handleRefreshClick(e) {
          e.preventDefault();
          const button = e.currentTarget;
          button.style.pointerEvents = 'none';
          button.style.opacity = '0.7';

          const icon = button.querySelector('i');
          if (icon) {
            icon.style.transition = 'transform 0.3s ease';
            icon.style.transform = 'rotate(180deg)';
          }

          const isDiscordActivity = window.location !== window.parent.location;
          if (isDiscordActivity && window.parent) {
            try {
              window.parent.location.reload();
            } catch (error) {
              setTimeout(function() {
                window.location.reload();
              }, CONFIG.refreshDuration);
            }
          } else {
            setTimeout(function() {
              window.location.reload();
            }, CONFIG.refreshDuration);
          }

          setTimeout(function() {
            if (button) {
              button.style.pointerEvents = '';
              button.style.opacity = '';
              if (icon) {
                icon.style.transform = '';
              }
            }
          }, CONFIG.refreshDuration + 1000);
        }

        function setupRefreshButton() {
          const refreshButton = findRefreshButton();
          if (refreshButton) {
            refreshButton.classList.add('refresh-button');
            const newButton = refreshButton.cloneNode(true);
            refreshButton.parentNode.replaceChild(newButton, refreshButton);
            newButton.addEventListener('click', handleRefreshClick);
            newButton.addEventListener('mouseenter', function() {
              const icon = newButton.querySelector('i');
              if (icon) {
                icon.style.transition = 'transform 0.3s ease';
              }
            });
            return newButton;
          }
          return null;
        }

        document.addEventListener('DOMContentLoaded', function() {
          const isIndexPage = window.location.pathname.endsWith('index.html') ||
              window.location.pathname.endsWith('/') ||
              window.location.pathname === '';

          if (isIndexPage) {
            const refreshButton = setupRefreshButton();
            if (refreshButton) {
              console.log('Refresh button initialized for Discord activity');
            }
          }
        });
      })();
    </script>
  </body>
</html>